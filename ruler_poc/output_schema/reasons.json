{
  "reason_taxonomy": {
    "missing_field": {
      "code": "missing_field",
      "label": "Missing Required Field",
      "description": "A required field ({field_name}) is missing from the expense submission for category ({category}). Context: {field_context}",
      "suggested_fix": "Please provide the {field_name} field. This field is required for {category} expenses. {field_context}",
      "variables": ["field_name", "category", "field_context"],
      "severity": "error"
    },

    "amount_exceeds_limit": {
      "code": "amount_exceeds_limit",
      "label": "Amount Exceeds Limit",
      "description": "The expense amount ({amount} {currency}) exceeds the allowed limit ({limit} {currency}) for this category ({category})",
      "suggested_fix": "The amount {amount} {currency} exceeds the limit of {limit} {currency} for {category} expenses. Please reduce the amount or obtain additional approval.",
      "variables": ["amount", "currency", "limit", "category"],
      "severity": "error"
    },
    "amount_below_minimum": {
      "code": "amount_below_minimum",
      "label": "Amount Below Minimum",
      "description": "The expense amount ({amount} {currency}) is below the minimum ({minimum} {currency}) required for this category ({category})",
      "suggested_fix": "The amount {amount} {currency} is below the minimum of {minimum} {currency} for {category} expenses. Please ensure the amount meets the minimum requirement.",
      "variables": ["amount", "currency", "minimum", "category"],
      "severity": "warning"
    },

    "invalid_currency": {
      "code": "invalid_currency",
      "label": "Invalid Currency",
      "description": "The specified currency ({currency}) is not allowed for this expense category ({category}). Allowed currencies: {allowed_currencies}",
      "suggested_fix": "Currency {currency} is not allowed for {category} expenses. Please use one of the allowed currencies: {allowed_currencies}.",
      "variables": ["currency", "category", "allowed_currencies"],
      "severity": "error"
    },
    "invalid_date": {
      "code": "invalid_date",
      "label": "Invalid Date",
      "description": "The expense date ({date}) is invalid or outside the allowed range ({min_date} to {max_date})",
      "suggested_fix": "The date {date} is invalid. Please provide a valid date between {min_date} and {max_date}.",
      "variables": ["date", "min_date", "max_date"],
      "severity": "error"
    },

    "invalid_enum_value": {
      "code": "invalid_enum_value",
      "label": "Invalid Enum Value",
      "description": "The provided value ({value}) is not one of the allowed options for this field ({field_name}). Allowed values: {allowed_values}",
      "suggested_fix": "The value '{value}' is not valid for {field_name}. Please select one of: {allowed_values}.",
      "variables": ["value", "field_name", "allowed_values"],
      "severity": "error"
    },
    "invalid_file_format": {
      "code": "invalid_file_format",
      "description": "The uploaded file format ({format}) is not supported. Allowed formats: {allowed_formats}",
      "label": "Invalid File Format",
      "suggested_fix": "File format {format} is not supported. Please upload files in one of these formats: {allowed_formats}.",
      "variables": ["format", "allowed_formats"],
      "severity": "error"
    },
    "file_size_exceeds_limit": {
      "code": "file_size_exceeds_limit",
      "label": "File Size Exceeds Limit",
      "description": "The uploaded file size ({file_size}) exceeds the maximum allowed size ({max_size})",
      "suggested_fix": "File size {file_size} exceeds the limit of {max_size}. Please compress the file or use a smaller file.",
      "variables": ["file_size", "max_size"],
      "severity": "error"
    },

    "invalid_receipt_type": {
      "code": "invalid_receipt_type",
      "label": "Invalid Receipt Type",
      "description": "The specified receipt type ({receipt_type}) is not valid for this expense category ({category}). Allowed types: {allowed_receipt_types}",
      "suggested_fix": "Receipt type '{receipt_type}' is not valid for {category} expenses. Please use one of: {allowed_receipt_types}.",
      "variables": ["receipt_type", "category", "allowed_receipt_types"],
      "severity": "error"
    },


    "invalid_accommodation_period": {
      "code": "invalid_accommodation_period",
      "label": "Invalid Accommodation Period",
      "description": "The accommodation period is invalid: check-out date ({check_out_date}) must be after check-in date ({check_in_date})",
      "suggested_fix": "The check-out date {check_out_date} must be after the check-in date {check_in_date}. Please provide valid accommodation dates.",
      "variables": ["check_in_date", "check_out_date"],
      "severity": "error"
    },
    "amount_mismatch": {
      "code": "amount_mismatch",
      "label": "Amount Mismatch",
      "description": "The amount in the receipt ({receipt_amount} {currency}) doesn't match the submitted amount ({submitted_amount} {currency})",
      "suggested_fix": "The receipt amount {receipt_amount} {currency} doesn't match the submitted amount {submitted_amount} {currency}. Please verify and correct the amount.",
      "variables": ["receipt_amount", "currency", "submitted_amount"],
      "severity": "error"
    },
    "duplicate_expense": {
      "code": "duplicate_expense",
      "label": "Duplicate Expense",
      "description": "This expense appears to be a duplicate of a previously submitted expense on {duplicate_date}",
      "suggested_fix": "This expense appears to be a duplicate. Please check if you've already submitted this expense on {duplicate_date}.",
      "variables": ["duplicate_date"],
      "severity": "warning"
    },
    "weekend_expense_restriction": {
      "code": "weekend_expense_restriction",
      "label": "Weekend Expense Restriction",
      "description": "This expense occurred on a weekend ({date}) and may not be allowed",
      "suggested_fix": "This expense occurred on a weekend ({date}). Weekend expenses may require additional justification. Please provide business justification if this is a legitimate business expense.",
      "variables": ["date"],
      "severity": "warning"
    },
    "holiday_expense_restriction": {
      "code": "holiday_expense_restriction",
      "label": "Holiday Expense Restriction",
      "description": "This expense occurred on a holiday ({holiday_name}) and may not be allowed",
      "suggested_fix": "This expense occurred on a holiday ({holiday_name}). Holiday expenses may require additional justification. Please provide business justification if this is a legitimate business expense.",
      "variables": ["holiday_name"],
      "severity": "warning"
    },

    "invalid_project_code": {
      "code": "invalid_project_code",
      "label": "Invalid Project Code",
      "description": "The provided project code ({project_code}) is not valid or active",
      "suggested_fix": "Project code '{project_code}' is not valid or active. Please verify the project code or contact the project manager for assistance.",
      "variables": ["project_code"],
      "severity": "error"
    },

    "invalid_approver": {
      "code": "invalid_approver",
      "label": "Invalid Approver",
      "description": "The specified approver ({approver_name}) is not authorized for this expense type ({category}) above threshold ({threshold} {currency})",
      "suggested_fix": "Approver '{approver_name}' is not authorized for {category} expenses above {threshold} {currency}. Please select an authorized approver.",
      "variables": ["approver_name", "category", "threshold", "currency"],
      "severity": "error"
    }
  },
  "metadata": {
    "version": "1.0.0",
    "last_updated": "2025-09-03",
    "description": "Comprehensive reason taxonomy for expense rule validation with suggested fixes templates. Dates in templates are dynamically replaced with current system dates at runtime.",
    "total_reasons": 16,
    "severity_levels": {
      "error": "Critical issues that prevent expense approval",
      "warning": "Issues that may affect approval but are not critical"
    }
  }
}
